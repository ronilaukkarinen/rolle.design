// Gutenberg editor styles
//
// Please note: These styles affect only wp-admin
// editor side. Please remember to add imports
// from "Gutenberg blocks" also to the main
// global.scss to see them on front end side.

// Helpers
@import 'helpers/typography';
@import 'helpers/grid';

// Variables
@import 'variables/colors';
@import 'variables/breakpoints';
@import 'variables/spacings';

// Gutenberg editor style specific variables
@import 'gutenberg/variables/fonts';

// Components needed by gutenberg
@import 'components/button';
@import 'components/button-size-small';
@import 'components/button-size-medium';
@import 'components/button-size-large';
@import 'components/button-style-ghost';

// Gutenberg blocks
@import 'gutenberg/boxed';
@import 'gutenberg/ingress';
@import 'gutenberg/button';
@import 'gutenberg/button-file';

// Fix alignleft and alignright figcaption width
// Hack for achieving the same than in gutenberg-helpers.js
[data-align="right"] figcaption,
[data-align="left"] figcaption {
  margin-left: auto;
  margin-right: auto;
  max-width: 200px;
  text-align: center;
}

// Links within content
.is-style-ingress a,
p[data-type="core/paragraph"] > a {
  border-bottom: 1px solid var(--color-fuchsia);
  color: var(--color-fuchsia);
  line-height: 1.2;
  text-decoration: none;
  transition: border-color .33s cubic-bezier(.19, 1, .22, 1), color .2s cubic-bezier(.19, 1, .22, 1);

  &::after {
    background-image: url('../../svg/external-link-fuchsia.svg');
  }

  &:focus {
    border-color: var(--color-black);
    color: var(--color-black);
    text-decoration: none;

    &::after {
      background-image: url('../../svg/external-link-black.svg');
    }
  }
}

// Wider editor
// Default is 580px which is way too narrow
// Forced to use important here, because WordPress uses too specific selectors
/* stylelint-disable declaration-no-important */
.wp-block {
  font-family: $font-paragraphs !important;
  max-width: $width-max-article !important;

  &[data-align="full"] {
    max-width: 100% !important;
  }

  &[data-align="wide"] {
    max-width: 100% !important;

    @media (min-width: 870px) {
      max-width: $width-grid-base !important;
      padding-left: 0;
      padding-right: 0;
    }
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: $font-headings-blog;
    font-weight: 700;
    letter-spacing: -.02em;
    line-height: 1.2;
  }
}

body.wp-admin div.edit-post-text-editor,
body.wp-admin div.editor-post-title__block,
.wp-block.editor-post-title {
  max-width: $width-max-article !important;
}
